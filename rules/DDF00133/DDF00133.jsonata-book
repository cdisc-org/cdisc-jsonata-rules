[{"kind":1,"language":"markdown","value":"Import utility functions","outputs":[]},{"kind":2,"language":"jsonata","value":"$utils := $merge([$import(\"./utils/get_rule.jsonata\")\r\n                 ,$import(\"./utils/report.jsonata\")]) ","outputs":[]},{"kind":1,"language":"markdown","value":"Define test","outputs":[]},{"kind":2,"language":"jsonata","value":"$rule := $utils.get_rule($import(\"./rules/DDF00133/DDF00133.json\"))","outputs":[]},{"kind":1,"language":"markdown","value":"Test positive data - Both StudyDesignPopulation and StudyCohort are defined and neither of them has plannedEnrollmentNumber attributes","outputs":[]},{"kind":2,"language":"jsonata","value":"(\r\n    $pos_data := $loadFile(\"./rules/DDF00133/unit-test-coreid-DDF00133-positive-1.json\");\r\n    $utils.report($rule,$pos_data)\r\n)","outputs":[]},{"kind":1,"language":"markdown","value":"Test positive data - Both StudyDesignPopulation and StudyCohort are defined and plannedEnrollmentNumber is only defined at StudyDesignPopulation level","outputs":[]},{"kind":2,"language":"jsonata","value":"(\r\n    $pos_data := $loadFile(\"./rules/DDF00133/unit-test-coreid-DDF00133-positive-2.json\");\r\n    $utils.report($rule,$pos_data)\r\n)","outputs":[]},{"kind":1,"language":"markdown","value":"Test positive data - Both StudyDesignPopulation and StudyCohort are defined and plannedEnrollmentNumber is defined for all studyCohorts","outputs":[]},{"kind":2,"language":"jsonata","value":"(\r\n    $pos_data := $loadFile(\"./rules/DDF00133/unit-test-coreid-DDF00133-positive-3.json\");\r\n    $utils.report($rule,$pos_data)\r\n)","outputs":[]},{"kind":1,"language":"markdown","value":"Test positive data - No StudyCohorts are defined.","outputs":[]},{"kind":2,"language":"jsonata","value":"(\r\n    $pos_data := $loadFile(\"./rules/DDF00133/unit-test-coreid-DDF00133-positive-4.json\");\r\n    $utils.report($rule,$pos_data)\r\n)","outputs":[]},{"kind":1,"language":"markdown","value":"Test negative data - Both StudyDesignPopulation and StudyCohort are defined and only for 1 studyCohort a plannedEnrollment number is defined.","outputs":[]},{"kind":2,"language":"jsonata","value":"(\r\n    $neg_data := $loadFile(\"./rules/DDF00133/unit-test-coreid-DDF00133-negative-1.json\");\r\n    $utils.report($rule,$neg_data)\r\n)","outputs":[]},{"kind":1,"language":"markdown","value":"Test negative data - Both StudyDesignPopulation and StudyCohort are defined and the StudyDesignPopulation and one of the studyCohorts has a plannedEnrollmentNumber","outputs":[]},{"kind":2,"language":"jsonata","value":"(\r\n    $neg_data := $loadFile(\"./rules/DDF00133/unit-test-coreid-DDF00133-negative-2.json\");\r\n    $utils.report($rule,$neg_data)\r\n)","outputs":[]},{"kind":1,"language":"markdown","value":"Test negative data - Both StudyDesignPopulation and StudyCohort are defined and the StudyDesignPopulation and all StudyCohorts have planned Enrollment numbers","outputs":[]},{"kind":2,"language":"jsonata","value":"(\r\n    $neg_data := $loadFile(\"./rules/DDF00133/unit-test-coreid-DDF00133-negative-3.json\");\r\n    $utils.report($rule,$neg_data)\r\n)","outputs":[]}]