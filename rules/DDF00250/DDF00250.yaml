Authorities:
  - Organization: CDISC
    Standards:
      - Name: USDM
        References:
          - Citations:
              - Cited Guidance: 'An eligibility criterion must be referenced by either a study
                  design population or cohorts.'
                Document: 'USDM_CORE_Rules.xlsx'
            Origin: 'USDM Conformance Rules'
            Rule Identifier:
              Id: 'DDF00250'
              Version: '1'
            Version: '1.0'
        Version: '4.0'
Check: |-
  ($.**.studyDesigns)@$s.
    $s.eligibilityCriteria@$ec
      [
        $not($ec.id in $s.population.criterionIds) and
        $not($ec.id in $s.population.cohorts.criterionIds)
      ].
      {
        "instanceType": $ec.instanceType,
        "id": $ec.id,
        "path": $ec._path,
        "StudyDesign.id": $s.id,
        "StudyDesign.name": $s.name,
        "name": $ec.name,
        "category": $ec.category.decode,
        "identifier": $ec.identifier
      }
Core:
  Id: 'DDF00250'
  Status: Draft
  Version: '1'
Description: 'An eligibility criterion must be referenced by either a study
  design population or cohorts.'
Executability: Fully Executable
Outcome:
  Message: "The eligibility criterion is not referenced referenced by either the
    study design population or any of its cohorts."
  Output Variables:
    - StudyDesign.id
    - StudyDesign.name
    - name
    - category
    - identifier
Rule Type: JSONata
Scope:
  Entities:
    Include:
      - 'EligibilityCriterion'
Sensitivity: Record
