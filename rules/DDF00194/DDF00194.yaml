Authorities:
  - Organization: CDISC
    Standards:
      - Name: USDM
        References:
          - Citations:
              - Cited Guidance: 'At least one attribute must be specified for an address.'
                Document: 'USDM_CORE_Rules.xlsx'
            Origin: 'USDM Conformance Rules'
            Rule Identifier:
              Id: 'DDF00194'
              Version: '1'
            Version: '1.0'
        Version: '4.0'
Check: |-
  study.versions.organizations@$o.
    $o.legalAddress[$not(text or lines or city or district or state or postalCode or country)].
        (
            $rep := function($v){$exists($v)?$string($v):"Missing"};
            {
                "instanceType": instanceType,
                "id": id,
                "path": _path,
                "Organization.id": $o.id,
                "Organization.name": $o.name,
                "text": $rep(text), 
                "lines": $rep(lines), 
                "city": $rep(city), 
                "district": $rep(district), 
                "state": $rep(state), 
                "postalCode": $rep(postalCode), 
                "country": $rep(country)
            }
        )
Core:
  Id: 'DDF00194'
  Status: Draft
  Version: '1'
Description: 'At least one attribute must be specified for an address.'
Executability: Fully Executable
Outcome:
  Message: 'All attributes of the address are blank.'
  Output Variables:
    - Organization.id
    - Organization.name
    - text
    - lines
    - district
    - city
    - postalCode
    - state
    - country
Rule Type: JSONata
Scope:
  Entities:
    Include:
      - Address
Sensitivity: Record
