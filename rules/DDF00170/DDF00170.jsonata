{
    "check_func" : function($data){$data.(
                    study.versions@$sv.
                        (
                            $filter($sv.abbreviations,function($v,$i,$a)
                                    {$count($a[$.abbreviatedText=$v.abbreviatedText])>1})
                            ~> $sort(function($l,$r){$l.abbreviatedText>$r.abbreviatedText})
                        ).
                        {
                            "StudyVersion.id": $sv.id,
                            "StudyVersion.versionIdentifier": $sv.versionIdentifier,
                            "id": id,
                            "abbreviatedText": abbreviatedText,
                            "expandedText": expandedText,
                            "dataset": instanceType
                        }
                )},
    "message": "The abbreviation's abbreviated text is not unique within the study version.",
    "variables": [
            "StudyVersion.id",
            "StudyVersion.versionIdentifier",
            "id",
            "abbreviatedText",
            "expandedText"
        ],
    "scope": {
        "Include": [
            "Abbreviation"
        ]
    }
}